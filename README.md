# Weather Forecast CLI (Ruby)
CLI‑утилита для получения краткого прогноза погоды на несколько дней из сервиса WeatherAPI и вывода его в читаемом виде в консоли.
Основной сценарий: пользователь вводит название города латиницей, приложение запрашивает XML‑прогноз по сети, парсит данные и печатает текущие параметры и прогноз на ближайшие дни (температура, влажность, ветер, УФ‑индекс, фаза Луны и т. д.).
## Возможности
- Запрос текущей погоды и прогноза на несколько дней по названию города.
- Работа с XML‑ответом WeatherAPI без сторонних библиотек.
- Нормализация и локализация отдельных полей (например, перевод фаз Луны).
- Чистый и компактный вывод в консоль.

## Технологии и навыки
- Язык: Ruby 3.4.3 (system Ruby).
- Стандартная библиотека:
    - Net::HTTP — HTTP‑клиент.
    - URI — сборка и валидация URL.
    - REXML — парсинг XML.
    - Date — работа с датами (при необходимости).

- Объектно‑ориентированное проектирование:
    - Инкапсуляция данных прогноза в отдельный класс.
    - Фабричные методы для построения объектов из XML‑нодов.
    - Чёткое разделение получения данных и их представления.

- Локализация и нормализация данных:
    - Сопоставление англоязычных значений (например, фаз Луны) с русскими.

- CLI : простое взаимодействие через STDIN/STDOUT.
- Работа с внешним API: формирование запроса, обработка ответа, базовый разбор ошибок.

## Архитектура
- Класс доменной модели прогноза:
    - Инкапсулирует свойства локации, текущей погоды и прогноза на день.
    - Имеет фабричные методы для разных частей ответа:
        - location(...) — извлекает данные о локации.
        - current(...) — извлекает текущие значения (температура, ветер, влажность и пр.).
        - forecast(...) — извлекает прогноз на конкретный день, включая фазу Луны и УФ‑индекс.

    - Константа с маппингом англоязычных фаз Луны на русские названия.
    - Метод представления to_s для человекочитаемого вывода блока данных.

- CLI‑скрипт:
    - Запрашивает у пользователя город латиницей.
    - Формирует URL для WeatherAPI (XML endpoint).
    - Выполняет HTTP‑запрос, парсит XML и отрисовывает информацию, итерируясь по дням прогноза.

## Требования
- Ruby 3.4.3+
- Действительный API‑ключ WeatherAPI

## Установка и запуск
1. Установите Ruby 3.4.3+.
2. Получите ключ на сайте WeatherAPI.(при необходимости)
3. Запустите CLI‑скрипт:
``` bash
ruby pogoda_xml_2.0.rb
```
Затем введите название города латиницей, например:
``` text
Mersin
```
## Пример вывода
``` text
Прогноз погоды на ближайшие дни v 2.0
Информация с сайта weatherapi.com
Введите название города латинскими буквами
Mersin

Город: Mersin

Дата: 2025-08-13 12:30
Температура: 21.3°C
Ветер: 12.0 км/ч
Влажность: 56%
УФ индекс: 4.0

Дата: 2025-08-13
Мин. температура: 15.0°C
Макс. температура: 23.0°C
Ветер: 18.0 км/ч
Влажность: 60%
Фаза луны: Растущий полумесяц
УФ индекс: 5.0

Дата: 2025-08-14
...
```
## Отказ от ответственности
- Проект предназначен для образовательных и демонстрационных целей.
- Убедитесь, что хранение и использование ключа API соответствуют требованиям сервиса и политике безопасности вашего проекта.
